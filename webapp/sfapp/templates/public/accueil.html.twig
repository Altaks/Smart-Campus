{% extends 'base.html.twig'%}

{% block title %}Smart Campus{% endblock %}

{% block body %}

    {# Partie chargé de mission #}
    {% if is_granted('ROLE_CHARGE_DE_MISSION') %}
        <h1 class="w-full text-center text-4xl py-20">Bienvenue Chargé de mission</h1>

        <div class="mx-auto w-3/4 min-h-64 flex flex-row justify-evenly">
            <a href="/releves" id="releves">
                <div class="w-64 h-64 flex flex-row justify-center items-center rounded-lg border-2 border-gray-900 shadow-lg">
                    <box-icon name='stats' class="w-1/3 h-1/3"></box-icon>
                </div>
                <h2 class="w-64 text-center mt-5 text-xl">Relevés</h2>
            </a>
            <a href="/plan" id="infra">
                <div class="w-64 h-64 flex flex-row justify-center items-center rounded-lg border-2 border-gray-900 shadow-lg">
                    <box-icon name='buildings' type='solid' class="w-1/3 h-1/3"></box-icon>
                </div>
                <h2 class="w-64 text-center mt-5 text-xl">Plan d'expérimentation</h2>
            </a>
        </div>

        {# Partie technicien #}
    {% elseif is_granted('ROLE_TECHNICIEN') %}
        <h1 class="w-full text-center text-4xl py-20">Bienvenue Technicien</h1>

        <div class="flex flex-row w-full  m-t-5">

            {# US Technicien : Consulter la liste des demandes d'installation #}
            <div class="border-r-4 text-center w-1/3">

                <h2 class="mb-2 text-2xl font-semibold text-gray-900 dark:text-white text-center ml-6">Systèmes à installer</h2>

                <p class="text-gray-600 text-lg">Date de demande - salle</p>

                <ul id="listeDemandesInstallation" class="text-xl space-y-1 text-gray-800 list-none list-inside dark:text-gray-400">

                    {% for demande in demandesInstall %}
                        <li class="my-2" id="demandeInstallation"><a href="/plan/demande-travaux/{{ demande.id }}" class="hover:underline">{{ demande.date | date('d M Y')}}  -  {{ demande.salle.nom }}</a></li>
                    {% endfor %}
                </ul>

            </div>
            <div class="border-l-4 text-center w-1/3"></div>

            <div class="flex flex-col border-l-4 text-center w-1/3 items-center">
            {# US Technicien : Consulter la liste des systèmes d'acquisition #}
                <a href="/plan/lister_sa" id="Lister les sysytemes d'aquisition">
                    <div class="w-64 h-64 flex flex-row justify-center items-center rounded-lg border-2 border-gray-900 shadow-lg">
                        <box-icon name='stats' class="w-1/3 h-1/3"></box-icon>
                    </div>
                    <h2 class="w-64 text-center mt-5 text-xl">Systemes d'acquisition</h2>
                </a>
            </div>
        </div>

        {# Partie Usager #}
    {% else %}
        <h1 class="w-full text-center text-2xl py-20">Bienvenue sur le site Smart Campus</h1>

        <div class="mx-auto w-3/4 min-h-64 flex flex-row justify-evenly">
            <a href="/releves" id="releves">
                <div class="w-64 h-64 flex flex-row justify-center items-center rounded-lg border-2 border-gray-900 shadow-lg">
                    <box-icon name='stats' class="w-1/3 h-1/3"></box-icon>
                </div>
                <h2 class="w-64 text-center mt-5 text-xl">Relevés</h2>
            </a>
            <a href="/plan" id="infra">
                <div class="w-64 h-64 flex flex-row justify-center items-center rounded-lg border-2 border-gray-900 shadow-lg">
                    <box-icon name='log-in' type='solid' class="w-1/3 h-1/3"></box-icon>
                </div>
                <h2 class="w-64 text-center mt-5 text-xl">Connexion</h2>
            </a>
        </div>
    {% endif %}

{% endblock %}


